input {
    gelf {
        port=> 6661
        type=> "docker"
    }
    syslog {
      port => 1514
      codec => "json"
    }
    syslog {
      port => 1515
    }
}

output {
   if 'java_apps' in [tags] {
        elasticsearch {
            hosts => "https://83ba9c16264f47d6b4d6a46c25d44ebe.eu-central-1.aws.cloud.es.io:9243"
            index => "java_apps-%{+YYYY.MM.dd}"
            user => "elastic"
            password => "password"
        }
    }
    else {
        elasticsearch {
            hosts => "https://83ba9c16264f47d6b4d6a46c25d44ebe.eu-central-1.aws.cloud.es.io:9243"
            index => "other-%{+YYYY.MM.dd}"
            user => "elastic"
            password => "password"
        }
    }
    stdout { codec => rubydebug }

}
